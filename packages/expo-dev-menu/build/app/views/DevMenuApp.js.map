{"version":3,"file":"DevMenuApp.js","sourceRoot":"","sources":["../../../src/app/views/DevMenuApp.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,mBAAmB,EAAE,SAAS,EAAE,YAAY,EAAE,MAAM,0BAA0B,CAAC;AACxF,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B,OAAO,EAAE,UAAU,EAAE,MAAM,cAAc,CAAC;AAC1C,OAAO,EAAE,kBAAkB,EAAE,cAAc,EAAmB,MAAM,yBAAyB,CAAC;AAC9F,OAAO,EAAE,YAAY,EAAE,MAAM,kBAAkB,CAAC;AAEhD,OAAO,KAAK,eAAe,MAAM,oBAAoB,CAAC;AACtD,OAAO,MAAM,MAAM,qBAAqB,CAAC;AACzC,OAAO,kBAAkB,MAAM,sBAAsB,CAAC;AAEtD,SAAS,eAAe,CAAC,QAAQ;IAC/B,MAAM,CAAC,QAAQ,EAAE,WAAW,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;IAEnD,KAAK,CAAC,SAAS,CAAC,GAAG,EAAE;QACnB,KAAK,UAAU,eAAe;YAC5B,MAAM,QAAQ,GAAG,MAAM,eAAe,CAAC,gBAAgB,EAAE,CAAC;YAC1D,WAAW,CAAC,QAAQ,CAAC,CAAC;QACxB,CAAC;QAED,eAAe,EAAE,CAAC;IACpB,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC;IAEf,OAAO,QAAQ,CAAC;AAClB,CAAC;AAED,MAAM,CAAC,OAAO,OAAO,WAAY,SAAQ,KAAK,CAAC,aAAuB;IACpE,MAAM;QACJ,OAAO,oBAAC,UAAU,oBAAK,IAAI,CAAC,KAAK,EAAI,CAAC;IACxC,CAAC;CACF;AAED,MAAM,gBAAgB,GAAG;IACvB,GAAG,YAAY;IACf,MAAM,EAAE;QACN,GAAG,YAAY,CAAC,MAAM;QACtB,UAAU,EAAE,MAAM,CAAC,KAAK,CAAC,cAAc;KACxC;CACF,CAAC;AAEF,MAAM,eAAe,GAAG;IACtB,GAAG,SAAS;IACZ,MAAM,EAAE;QACN,GAAG,SAAS,CAAC,MAAM;QACnB,UAAU,EAAE,MAAM,CAAC,IAAI,CAAC,cAAc;KACvC;CACF,CAAC;AAEF,SAAS,UAAU,CAAC,KAAK;IACvB,MAAM,WAAW,GAAG,cAAc,EAAE,CAAC;IACrC,MAAM,EAAE,mBAAmB,GAAG,eAAe,EAAE,GAAG,eAAe,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IAE9E,IAAI,KAAK,GACP,mBAAmB,KAAK,eAAe,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,mBAAmB,CAAC;IAC9E,IAAI,KAAK,KAAK,eAAe,EAAE;QAC7B,KAAK,GAAG,OAAO,CAAC;KACjB;IAED,OAAO,CACL,oBAAC,kBAAkB,IAAC,KAAK,EAAE,MAAM,CAAC,QAAQ;QACxC,oBAAC,YAAY,CAAC,QAAQ,IAAC,KAAK,EAAE,KAAK;YACjC,oBAAC,mBAAmB,IAAC,KAAK,EAAE,WAAW,IAAI,MAAM,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,gBAAgB;gBACpF,oBAAC,kBAAkB,oBAAK,KAAK,EAAI,CACb,CACA,CACL,CACtB,CAAC;AACJ,CAAC;AAED,MAAM,MAAM,GAAG,UAAU,CAAC,MAAM,CAAC;IAC/B,QAAQ,EAAE;QACR,IAAI,EAAE,CAAC;KACR;CACF,CAAC,CAAC","sourcesContent":["import { NavigationContainer, DarkTheme, DefaultTheme } from '@react-navigation/native';\nimport React from 'react';\nimport { StyleSheet } from 'react-native';\nimport { AppearanceProvider, useColorScheme, ColorSchemeName } from 'react-native-appearance';\nimport { ThemeContext } from 'react-navigation';\n\nimport * as DevMenuInternal from '../DevMenuInternal';\nimport Colors from '../constants/Colors';\nimport DevMenuBottomSheet from './DevMenuBottomSheet';\n\nfunction useUserSettings(renderId): DevMenuInternal.DevMenuSettingsType {\n  const [settings, setSettings] = React.useState({});\n\n  React.useEffect(() => {\n    async function getUserSettings() {\n      const settings = await DevMenuInternal.getSettingsAsync();\n      setSettings(settings);\n    }\n\n    getUserSettings();\n  }, [renderId]);\n\n  return settings;\n}\n\nexport default class DevMenuRoot extends React.PureComponent<any, any> {\n  render() {\n    return <DevMenuApp {...this.props} />;\n  }\n}\n\nconst CustomLightTheme = {\n  ...DefaultTheme,\n  colors: {\n    ...DefaultTheme.colors,\n    background: Colors.light.menuBackground,\n  },\n};\n\nconst CustomDarkTheme = {\n  ...DarkTheme,\n  colors: {\n    ...DarkTheme.colors,\n    background: Colors.dark.menuBackground,\n  },\n};\n\nfunction DevMenuApp(props) {\n  const colorScheme = useColorScheme();\n  const { preferredAppearance = 'no-preference' } = useUserSettings(props.uuid);\n\n  let theme: ColorSchemeName =\n    preferredAppearance === 'no-preference' ? colorScheme : preferredAppearance;\n  if (theme === 'no-preference') {\n    theme = 'light';\n  }\n\n  return (\n    <AppearanceProvider style={styles.rootView}>\n      <ThemeContext.Provider value={theme}>\n        <NavigationContainer theme={colorScheme == 'dark' ? CustomDarkTheme : CustomLightTheme}>\n          <DevMenuBottomSheet {...props} />\n        </NavigationContainer>\n      </ThemeContext.Provider>\n    </AppearanceProvider>\n  );\n}\n\nconst styles = StyleSheet.create({\n  rootView: {\n    flex: 1,\n  },\n});\n"]}